<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bunny Valentine ğŸ’–</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- GSAP -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    body {
      background: radial-gradient(circle at top, #ffe4ec, #ffc0cb);
      overflow: hidden;
      transition: background 1s ease;
      touch-action: manipulation;
    }

    @keyframes bunnyDance {
      0%,100% { transform: translateY(0) rotate(0); }
      25% { transform: translateY(-20px) rotate(-10deg); }
      50% { transform: translateY(0) rotate(10deg); }
      75% { transform: translateY(-12px) rotate(-6deg); }
    }

    .dance {
      animation: bunnyDance 0.6s infinite;
    }

    @keyframes pulseBackground {
      0% { background-color: #ffc0cb; }
      50% { background-color: #ff9eb5; }
      100% { background-color: #ffc0cb; }
    }

    .bg-celebrate {
      animation: pulseBackground 2s infinite;
    }

    @keyframes floatHearts {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-700px) scale(1.6); opacity: 0; }
    }

    .heart {
      position: absolute;
      font-size: 24px;
      animation: floatHearts linear forwards;
      pointer-events: none;
    }
  </style>
</head>

<body class="flex items-center justify-center min-h-screen px-4">

  <div id="card" class="bg-white/90 backdrop-blur-lg shadow-2xl rounded-3xl p-6 sm:p-10 text-center w-full max-w-md relative">

    <div id="bunny" class="text-6xl sm:text-8xl mb-4 sm:mb-6">ğŸ°</div>

    <h1 class="text-2xl sm:text-3xl font-bold text-pink-600 mb-2">Hey Bestie ğŸ’•</h1>
    <p id="question" class="text-gray-700 mb-6 sm:mb-8 text-base sm:text-lg">
      Will you be my Valentine? ğŸŒ¸
    </p>

    <!-- CELEBRATION GIF (hidden at start) -->
    <img id="celebrationGif"
         src="https://media.giphy.com/media/3ov9jT16xepFkXdRaU/giphy.gif"
         class="hidden mx-auto mb-6 w-40 sm:w-56 rounded-2xl shadow-lg"
         alt="Celebrating Bunny ğŸ‰">

    <div id="btnContainer" class="flex justify-center gap-4 sm:gap-6 relative">
      <button id="yesBtn"
        class="bg-pink-500 text-white px-6 sm:px-8 py-2 sm:py-3 rounded-2xl text-lg sm:text-xl shadow-lg active:scale-95 transition">
        Yes ğŸ’–
      </button>

      <button id="noBtn"
        class="bg-white border-2 border-pink-400 text-pink-500 px-6 sm:px-8 py-2 sm:py-3 rounded-2xl text-lg sm:text-xl shadow-lg transition">
        No ğŸ˜¢
      </button>
    </div>

  </div>

<script>
  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");
  const question = document.getElementById("question");
  const bunny = document.getElementById("bunny");
  const gif = document.getElementById("celebrationGif");

  let noCount = 0;
  let runawayMode = false;

  noBtn.addEventListener("click", () => {
    noCount++;

    if (noCount === 1) {
      question.innerText = "Are you really sure? ğŸ¥º";
      gsap.to(noBtn, { scale: 0.6, duration: 0.4 });
      gsap.to(yesBtn, { scale: 1.3, duration: 0.4 });
    }

    if (noCount >= 2 && !runawayMode) {
      runawayMode = true;
      noBtn.classList.add("absolute");
    }

    if (runawayMode) runAwayMobile();
  });

  function runAwayMobile() {
    const padding = 20;
    const maxX = window.innerWidth - noBtn.offsetWidth - padding;
    const maxY = window.innerHeight - noBtn.offsetHeight - padding;

    const randomX = Math.random() * maxX;
    const randomY = Math.random() * maxY;

    gsap.to(noBtn, {
      x: randomX - window.innerWidth / 2,
      y: randomY - window.innerHeight / 2,
      duration: 0.4,
      ease: "power2.out"
    });
  }

  yesBtn.addEventListener("click", () => {
    question.innerText = "SHE SAID YESSSS ğŸ˜­ğŸ’–";

    noBtn.style.display = "none";
    yesBtn.style.display = "none";

    bunny.innerText = "ğŸ°ğŸ’ƒ";
    bunny.classList.add("dance");

    // Show animated celebrating bunny
    gif.classList.remove("hidden");
    gsap.from(gif, { scale: 0, opacity: 0, duration: 0.6, ease: "back.out(1.7)" });

    gsap.to("#card", { scale: 1.1, duration: 0.5, yoyo: true, repeat: 3 });

    document.body.classList.add("bg-celebrate");

    startConfettiStorm();
    spawnHearts();
  });

  function startConfettiStorm() {
    const duration = 5000;
    const end = Date.now() + duration;

    (function frame() {
      confetti({
        particleCount: 10,
        spread: 100,
        startVelocity: 45,
        origin: { x: Math.random(), y: Math.random() - 0.2 }
      });

      if (Date.now() < end) requestAnimationFrame(frame);
    })();
  }

  function spawnHearts() {
    setInterval(() => {
      const heart = document.createElement("div");
      heart.classList.add("heart");
      heart.innerText = "ğŸ’–";
      heart.style.left = Math.random() * 100 + "vw";
      heart.style.bottom = "0px";
      heart.style.animationDuration = 4 + Math.random() * 3 + "s";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 7000);
    }, 250);
  }
</script>

</body>
</html>
